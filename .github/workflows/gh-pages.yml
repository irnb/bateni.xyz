name: Deploy to GitHub Pages

on:
 push:
   branches:
     - main

jobs:
 build:
   runs-on: ubuntu-latest
   steps:
     - name: Checkout Repo
       uses: actions/checkout@v2

     - name: Install Dependencies
       run: npm install

     - name: Build
       run: npm run predeploy

     - name: Force push to destination branch
       uses: ad-m/github-push-action@v0.5.0
       with:
         github_token: ${{ secrets.GITHUB_TOKEN }}
         branch: gh-pages
         force: true
         directory: ./dist
